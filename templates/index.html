<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Placement Prediction - ML Web App</title>


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background-color: #eef3f9;
            font-family: 'Poppins', sans-serif;
        }
        .main-card {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 14px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.12);
        }
        .header-title {
            color: #0a3d62;
            font-weight: 600;
        }
        .btn-custom {
            background-color: #0a3d62;
            color: #ffffff;
            font-weight: 600;
            border-radius: 6px;
        }
        .btn-custom:hover {
            background-color: #145a86;
            color: #fff;
        }
    </style>
</head>

<body>
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-7">
            <div class="main-card">

                <h3 class="text-center header-title">Student Placement Prediction</h3>
                <p class="text-center text-secondary">Machine Learning Model (Random Forest)</p>

                <form method="POST" action="/predict">

                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label class="form-label">Gender</label>
                            <select class="form-select" name="Gender" required>
                                <option value="M">Male</option>
                                <option value="F">Female</option>
                            </select>
                        </div>

                        <div class="col-md-6 mb-3">
                            <label class="form-label">Stream</label>
                            <select class="form-select" name="Stream" required>
                                <option value="CEN">CEN</option>
                                <option value="CSE">CSE</option>
                                <option value="ECE">ECE</option>
                                <option value="EEN">EEN</option>
                                <option value="MEN">MEN</option>
                                <option value="MCA">MCA</option>
                            </select>
                        </div>
                    </div>

                    <label class="form-label">Xth Marks (%)</label>
                    <input type="number" class="form-control mb-3" name="Xth" required>

                    <label class="form-label">Xth Board</label>
                    <select class="form-select mb-3" name="XthBoard" required>
                        <option value="WBBSE">WBBSE</option>
                        <option value="CBSE">CBSE</option>
                        <option value="ICSE">ICSE</option>
                    </select>

                    <label class="form-label">XIIth Marks (%)</label>
                    <input type="number" class="form-control mb-3" name="XIIth" required>

                    <label class="form-label">XIIth Board</label>
                    <select class="form-select mb-3" name="XIIthBoard" required>
                        <option value="WBCHSE">WBCHSE</option>
                        <option value="CBSE">CBSE</option>
                        <option value="ICSE">ICSE</option>
                    </select>

                    <label class="form-label">Backlog Status</label>
                    <select class="form-select mb-3" name="Backlog" required>
                        <option value="0">No Backlog</option>
                        <option value="1">At least 1 Backlog</option>
                    </select>

                    <label class="form-label">Graduation Marks (%)</label>
                    <input type="number" class="form-control mb-3" name="Graduation" required>

                    <label class="form-label">Training Status</label>
                    <select class="form-select mb-3" name="Training" required>
                        <option value="0">No Training</option>
                        <option value="1">Training Done</option>
                    </select>

                    <label class="form-label">Campus Drives Attended</label>
                    <input type="number" class="form-control mb-3" name="CampusDrive" required>

                    <label class="form-label">Year of Passing</label>
                    <input type="number" class="form-control mb-3" name="Year" value="2021" required>

                    <label class="form-label">Origin</label>
                    <select class="form-select mb-4" name="Origin" required>
                        <option value="U">Urban</option>
                        <option value="R">Rural</option>
                    </select>

                    <div class="text-center">
                        <button type="submit" class="btn btn-custom px-4 py-2">Predict Placement</button>
                    </div>

                </form>

                {% if prediction %}
                <div class="alert alert-info text-center mt-4">
                    <h5>{{ prediction }}</h5>
                    <p><strong>Probability:</strong> {{ probability }}</p>
                </div>

                <hr>

                <h5 class="text-center header-title">Feature Importance</h5>
                <div class="text-center mt-3">
                    <img src="{{ url_for('static', filename='feature_importance.png') }}" class="img-fluid rounded shadow" alt="Feature Importance Graph">
                </div>
                {% endif %}

            </div>
        </div>
    </div>
</div>

</body>
</html>
